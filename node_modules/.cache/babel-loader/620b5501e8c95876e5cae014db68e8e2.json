{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMergedState;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _useEvent = _interopRequireDefault(require(\"./useEvent\"));\nvar _useLayoutEffect = require(\"./useLayoutEffect\");\nvar _useState5 = _interopRequireDefault(require(\"./useState\"));\n/** We only think `undefined` is empty */\nfunction hasValue(value) {\n  return value !== undefined;\n}\n\n/**\r\n * Similar to `useState` but will use props value if provided.\r\n * Note that internal use rc-util `useState` hook.\r\n */\nfunction useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    postState = _ref.postState;\n\n  // ======================= Init =======================\n  var _useState = (0, _useState5.default)(function () {\n      if (hasValue(value)) {\n        return value;\n      } else if (hasValue(defaultValue)) {\n        return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n      } else {\n        return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n      }\n    }),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var mergedValue = value !== undefined ? value : innerValue;\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue;\n\n  // ====================== Change ======================\n  var onChangeFn = (0, _useEvent.default)(onChange);\n  var _useState3 = (0, _useState5.default)([mergedValue]),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    prevValue = _useState4[0],\n    setPrevValue = _useState4[1];\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    var prev = prevValue[0];\n    if (innerValue !== prev) {\n      onChangeFn(innerValue, prev);\n    }\n  }, [prevValue]);\n\n  // Sync value back to `undefined` when it from control to un-control\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    if (!hasValue(value)) {\n      setInnerValue(value);\n    }\n  }, [value]);\n\n  // ====================== Update ======================\n  var triggerChange = (0, _useEvent.default)(function (updater, ignoreDestroy) {\n    setInnerValue(updater, ignoreDestroy);\n    setPrevValue([mergedValue], ignoreDestroy);\n  });\n  return [postMergedValue, triggerChange];\n}","map":{"version":3,"names":["_interopRequireDefault","require","default","Object","defineProperty","exports","value","useMergedState","_slicedToArray2","_useEvent","_useLayoutEffect","_useState5","hasValue","undefined","defaultStateValue","option","_ref","defaultValue","onChange","postState","_useState","_useState2","innerValue","setInnerValue","mergedValue","postMergedValue","onChangeFn","_useState3","_useState4","prevValue","setPrevValue","useLayoutUpdateEffect","prev","triggerChange","updater","ignoreDestroy"],"sources":["C:/Users/Victus/Documents/aftasalon_admin/node_modules/rc-util/lib/hooks/useMergedState.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = useMergedState;\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\nvar _useEvent = _interopRequireDefault(require(\"./useEvent\"));\r\nvar _useLayoutEffect = require(\"./useLayoutEffect\");\r\nvar _useState5 = _interopRequireDefault(require(\"./useState\"));\r\n/** We only think `undefined` is empty */\r\nfunction hasValue(value) {\r\n  return value !== undefined;\r\n}\r\n\r\n/**\r\n * Similar to `useState` but will use props value if provided.\r\n * Note that internal use rc-util `useState` hook.\r\n */\r\nfunction useMergedState(defaultStateValue, option) {\r\n  var _ref = option || {},\r\n    defaultValue = _ref.defaultValue,\r\n    value = _ref.value,\r\n    onChange = _ref.onChange,\r\n    postState = _ref.postState;\r\n\r\n  // ======================= Init =======================\r\n  var _useState = (0, _useState5.default)(function () {\r\n      if (hasValue(value)) {\r\n        return value;\r\n      } else if (hasValue(defaultValue)) {\r\n        return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\r\n      } else {\r\n        return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\r\n      }\r\n    }),\r\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\r\n    innerValue = _useState2[0],\r\n    setInnerValue = _useState2[1];\r\n  var mergedValue = value !== undefined ? value : innerValue;\r\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue;\r\n\r\n  // ====================== Change ======================\r\n  var onChangeFn = (0, _useEvent.default)(onChange);\r\n  var _useState3 = (0, _useState5.default)([mergedValue]),\r\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\r\n    prevValue = _useState4[0],\r\n    setPrevValue = _useState4[1];\r\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\r\n    var prev = prevValue[0];\r\n    if (innerValue !== prev) {\r\n      onChangeFn(innerValue, prev);\r\n    }\r\n  }, [prevValue]);\r\n\r\n  // Sync value back to `undefined` when it from control to un-control\r\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\r\n    if (!hasValue(value)) {\r\n      setInnerValue(value);\r\n    }\r\n  }, [value]);\r\n\r\n  // ====================== Update ======================\r\n  var triggerChange = (0, _useEvent.default)(function (updater, ignoreDestroy) {\r\n    setInnerValue(updater, ignoreDestroy);\r\n    setPrevValue([mergedValue], ignoreDestroy);\r\n  });\r\n  return [postMergedValue, triggerChange];\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}